name: Create Zip File
on: 
  workflow_dispatch:
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: Get Mod Version Number
      id: mod_version
      uses:  ashley-taylor/read-json-property-action@v1.2
      with:
        path: ModConfig.json
        property: ModVersion
    - name: echo ModVersion
      run: echo ${{ steps.mod_version.outputs.value }}
      env:
        release_mod_version: ${{ steps.mod_version.outputs.value }}
    - name: Get Mod ID
      id: mod_id
      uses:  ashley-taylor/read-json-property-action@v1.2
      with:
        path: ModConfig.json
        property: ModId
    - name: echo ModId
      run: echo ${{ steps.mod_id.outputs.value }}}
      env:
        release_mod_id: ${{ steps.mod_id.outputs.value }}
      #build zip
    - name: Generate Name
      with:
        name_array: ( "$release_mod_id" "$release_mod_version" )
        name: join(name_array)
    - name: Generate ZIP
      uses: byteever/action-build-zip@master
      with:
        filename: '$name.zip'
